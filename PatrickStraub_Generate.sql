CREATE DATABASE priorityQueue;

CREATE TABLE GUEST(
	GUEST_ID	INT 	NOT NULL,
	NAME		CHAR(50)	NOT NULL,
	PRIMARY KEY(GUEST_ID)
);

INSERT INTO GUEST (GUEST_ID, NAME)
VALUES (1, 'Diana Prince');

INSERT INTO GUEST (GUEST_ID, NAME)
VALUES (2, 'Clark Kent');

INSERT INTO GUEST (GUEST_ID, NAME)
VALUES (3, 'Frank Castle');

INSERT INTO GUEST (GUEST_ID, NAME)
VALUES (4, 'Carol Danvers');

CREATE TABLE PARK_AREAS(
	AREA_ID	INT 	NOT NULL,
	AREA_NAME		CHAR(50)	NOT NULL,
	PRIMARY KEY(AREA_ID)
);

INSERT INTO PARK_AREAS (AREA_ID, AREA_NAME)
VALUES (1, 'TomorrowLand');

INSERT INTO PARK_AREAS (AREA_ID, AREA_NAME)
VALUES (2, 'FrontierLand');

INSERT INTO PARK_AREAS (AREA_ID, AREA_NAME)
VALUES (3, 'FantasyLand');

INSERT INTO PARK_AREAS (AREA_ID, AREA_NAME)
VALUES (4, 'Jurassic Park');

CREATE TABLE ATTRACTION(
	ATTRACTION_ID	INT 	NOT NULL,
	ATTRACTION_NAME		CHAR(50)	NOT NULL,
	AREA_ID			INT		NOT NULL,
	PRIMARY KEY(ATTRACTION_ID),
	FOREIGN KEY(AREA_ID) REFERENCES PARK_AREAS(AREA_ID)
);

INSERT INTO ATTRACTION (ATTRACTION_ID, ATTRACTION_NAME, AREA_ID)
VALUES (1, 'Space Mountain', 1);

INSERT INTO ATTRACTION (ATTRACTION_ID, ATTRACTION_NAME, AREA_ID)
VALUES (2, 'Splash Mountain', 2);

INSERT INTO ATTRACTION (ATTRACTION_ID, ATTRACTION_NAME, AREA_ID)
VALUES (3, 'Philharmagic', 3);

INSERT INTO ATTRACTION (ATTRACTION_ID, ATTRACTION_NAME, AREA_ID)
VALUES (4, 'T-Rex Encounter', 4);

CREATE TABLE APPOINTMENT_TIMES(
	APPOINTMENT_ID	INT 	NOT NULL,
	ATTRACTION_ID	INT		NOT NULL,
	APPOINTMENT_TIME			CHAR(50)		NOT NULL,
	PRIMARY KEY(APPOINTMENT_ID),
	FOREIGN KEY(ATTRACTION_ID) REFERENCES ATTRACTION(ATTRACTION_ID)
);

INSERT INTO APPOINTMENT_TIMES (APPOINTMENT_ID, ATTRACTION_ID, APPOINTMENT_TIME)
VALUES (1, 1, '10:30AM');

INSERT INTO APPOINTMENT_TIMES (APPOINTMENT_ID, ATTRACTION_ID, APPOINTMENT_TIME)
VALUES (2, 1, '10:30AM');

INSERT INTO APPOINTMENT_TIMES (APPOINTMENT_ID, ATTRACTION_ID, APPOINTMENT_TIME)
VALUES (3, 1, '11:30AM');

INSERT INTO APPOINTMENT_TIMES (APPOINTMENT_ID, ATTRACTION_ID, APPOINTMENT_TIME)
VALUES (4, 2, '10:30AM');

CREATE TABLE GUEST_APPOINTMENTS(
	GUEST_ID	INT 	NOT NULL,
	APPOINTMENT_ID	INT		NOT NULL,
	PRIMARY KEY CLUSTERED(APPOINTMENT_ID, GUEST_ID),
	FOREIGN KEY(APPOINTMENT_ID) REFERENCES APPOINTMENT_TIMES(APPOINTMENT_ID),
	FOREIGN KEY(GUEST_ID) REFERENCES GUEST(GUEST_ID)
);

INSERT INTO GUEST_APPOINTMENTS (GUEST_ID, APPOINTMENT_ID)
VALUES (1, 1);

INSERT INTO GUEST_APPOINTMENTS (GUEST_ID, APPOINTMENT_ID)
VALUES (1, 2);


INSERT INTO GUEST_APPOINTMENTS (GUEST_ID, APPOINTMENT_ID)
VALUES (2, 3);


INSERT INTO GUEST_APPOINTMENTS (GUEST_ID, APPOINTMENT_ID)
VALUES (3, 4);


